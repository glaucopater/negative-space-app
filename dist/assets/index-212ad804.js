(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?e.credentials="include":t.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(t){if(t.ep)return;t.ep=!0;const e=o(t);fetch(t.href,e)}})();async function m(d,n){const o=new Image;o.src=d,await new Promise(c=>{o.onload=c});const{width:r,height:t}=o,e=r/3,i=t/3,s=document.createElement("canvas");s.width=r+n*2,s.height=t+n*2;const f=s.getContext("2d");f.fillStyle="#111",f.fillRect(0,0,s.width,s.height);for(let c=0;c<3;c++)for(let u=0;u<3;u++){const a=document.createElement("canvas");a.width=e,a.height=i;const l=a.getContext("2d");l.drawImage(o,u*e,c*i,e,i,0,0,e,i),l.fillRect(0,0,e,n),l.fillRect(0,0,n,i),l.fillRect(0,i-n,e,n),l.fillRect(e-n,0,e,i),h(a)}}function h(d){const n=document.getElementById("result");n&&n.appendChild(d)}const g=20,p=640,y=480,w=`https://picsum.photos/${p}/${y}`;document.querySelector("#app").innerHTML=`
<div id="app">
<img src="https://picsum.photos/640/480" />
<div id="result"></div>
</div>
`;m(w,g);
